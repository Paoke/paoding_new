<!doctype html>
<html lang="en" ng-app="user_collect">
<head>
    <meta charset="UTF-8">
    <title>我的收藏</title>
    <meta name="description"
          content="庖丁科技众包服务平台携手国内外先进技术科研院所、顶级技术专家，以实现科技成果市场化为核心，为企业提供快速精准的需求匹配服务，从而实现企业以及科技资源的有效对接，帮助企业实现产业技术升级，助力先进技术完成产业化发展。"/>
    <meta name="keywords" content="庖丁众包、智能技术、机械制造、健康医疗、材料科学、能源环保、生产流程优化"/>
    <meta name='viewport' content='user-scalable=no,width=750'>
    <link rel="stylesheet" href="{$Think.MOBILE}/css/common_new.css">
    <link rel="stylesheet" href="{$Think.MOBILE}/css/index.css">
    <link rel="stylesheet" href="{$Think.MOBILE}/css/demand.css">
    <link rel="stylesheet" href="{$Think.MOBILE}/css/activity.css">
    <link rel="stylesheet" href="{$Think.MOBILE}/css/my.css">
    <include file="./Template/5u/common/common.html"/>
</head>
<body ng-controller="advancedCtrl">
<div class="tec_tab">
    <p class="active">技术</p>
    <p>需求</p>
    <p>活动</p>
    <p>单位</p>
    <div class="slideBlock"></div>
</div>
<div class="index_div" style="margin-bottom:30px"></div>

<!-- 技术 -->
<div class="tab_body" style="display:block">
    <div ng-show="tecStatus == 0" class="sky_div">
        <img src="{$Think.MOBILE}/images/sky.png" alt="">
        <p>您目前没有任何技术项目收藏</p>
    </div>
    <div class="advancedWrap">
        <a href="__MODULE__/Index/detail_tec.html?data_id={{tecList.id}}" ng-repeat="tecList in tecLists">
            <div class="main_section clear">
                <div class="fl main_section_left">
                    <img ng-src="{{tecList.cover_url}}" alt="">
                    <p class="transfer" ng-cloak>{{tecList.hzxs}}</p>
                </div>
                <div class="fr main_section_right">
                    <p class="sec_tit" ng-cloak>{{tecList.title}}</p>
                    <p>
                        <img src="{$Think.MOBILE}/images/icon-index-industry.png" alt="">
                        <span class="sec_industry" ng-cloak>{{tecList.yyxy}}</span>
                    </p>
                    <p class="p_scan">
                        <img src="{$Think.MOBILE}/images/icon-index-browse.png" alt="">
                        <span class="sec_scan" ng-cloak>{{tecList.clicks}}</span>
                    </p>
                    <div class="adhi_print">
                        <span class="adhibition" ng-cloak>{{tecList.cat_name}}</span>
                        <span class="print" ng-cloak>{{tecList.csd}}</span>
                    </div>
                </div>
            </div>
        </a>
    </div>
</div>
<!-- 需求 -->
<div class="tab_body">
    <div ng-show="DemStatus == 0" class="sky_div">
        <img src="{$Think.MOBILE}/images/sky.png" alt="">
        <p>您目前没有任何需求项目收藏</p>
    </div>
    <div class="main" ng-repeat="demandList in demandLists">
        <div class="section">
            <p class="sec_title clear">
                <span class="callForBids fl" ng-cloak>【{{ demandList.hzxs }}】</span>
                <span class="materials fl" ng-cloak>{{ demandList.title }}</span>
            </p>
            <p class="sec_content" ng-cloak>{{ demandList.desc }}</p>
            <div class="sec_data clear">
                <div class="sec_data_left fl">
                    <div>
                        <img src="{$Think.MOBILE}/images/icon-search-type.png" alt="">
                        <span class="sec_data_span" ng-cloak>{{ demandList.cat_name }}</span>
                        <img src="{$Think.MOBILE}/images/icon-search-time.png" alt="">
                        <span class="sec_data_span" ng-cloak>{{ demandList.yfzq }}</span>
                        <img src="{$Think.MOBILE}/images/icon-search-scan.png" alt="">
                        <span class="sec_data_span" ng-cloak>{{ demandList.clicks }}</span>
                    </div>
                    <p class="sec_data_p">
                        发布时间: <span class="sec_data_span" ng-cloak>{{ demandList.create_time | formatDate}}</span>
                        投入预算：<span ng-cloak>{{ demandList.yfys }}</span>
                    </p>
                </div>
                <img class="fr" src="{$Think.MOBILE}/images/icon-research.png" alt="">
            </div>
            <a href="__MODULE__/Demand/detail?data_id={{demandList.id}}">
                <div class="viewDetails clear">
                    <img class="fr" src="{$Think.MOBILE}/images/icon-right.png" alt="">
                    <span class="viewDetails_span fr">查看详情</span>
                </div>
            </a>
        </div>
        <div class="index_div"></div>
    </div>
</div>

<!-- 活动 -->
<div class="tab_body">
    <div ng-show="ActStatus == 0" class="sky_div">
        <img src="{$Think.MOBILE}/images/sky.png" alt="">
        <p>您目前没有任何活动收藏</p>
    </div>
    <div class="activity_lately_section clear" ng-repeat="activityList in activityLists">
        <a href="__MODULE__/Activity/detail.html?data_id={{activityList.id}}">
            <div class="activity_section_left fl">
                <img src="{{ activityList.sponsor_logo_url }}" alt="" ng-cloak>
            </div>
            <div class="activity_section_right fr">
                <p class="activity_right_tit" ng-cloak>{{ activityList.title }}</p>
                <p class="activity_right_p">
                    <span class="activity_right_span" ng-cloak>{{ activityList.diqu }}</span>
                    <span ng-cloak>{{ activityList.formal_start_time | formatDate}}</span>
                </p>
                <p class="activity_right_p">
                    浏览<span class="activity_right_span" ng-cloak>{{ activityList.clicks }}</span>
                    收藏<span ng-cloak>{{ activityList.shoucang }}</span>
                </p>
            </div>
        </div>
    </a>

</div>

<!-- 单位 -->
<!-- .nav -->
<div class="tab_body">
    <div class="coop_nav">
        <p class="fl active">协会</p>
        <p class="fl">企业</p>
    </div>
    <div class="index_coop_swiper clear" style="display:block">
        <div ng-show="AssoStatus == 0" class="sky_div">
            <img src="{$Think.MOBILE}/images/sky.png" alt="">
            <p>您目前没有任何单位收藏</p>
        </div>
        <a href="__MODULE__/Partner/association_detail.html?data_id={{ assoList.id }}"
           ng-repeat="assoList in assoLists">
            <div class="coop_section fl">
                <img class="coop_img" src="{{ assoList.cover_url }}" alt="{{ assoList.cover_url }}" ng-cloak>
                <p class="coop_title" ng-cloak>{{ assoList.title }}</p>
            </div>
        </a>
    </div>

    <div class="index_coop_swiper clear">
        <div ng-show="ComStatus == 0" class="sky_div">
            <img src="{$Think.MOBILE}/images/sky.png" alt="">
            <p>您目前没有任何单位收藏</p>
        </div>
        <a href="__MODULE__/Partner/company_detail.html?data_id={{ companyList.id }}"
           ng-repeat="companyList in companyLists">
            <div class="coop_section fl">
                <img class="coop_img" src="{{companyList.cover_url}}" alt="">
                <p class="coop_title" ng-cloak>{{companyList.title}}</p>
            </div>
        </a>
    </div>
</div>
<div class="sec_return">
    <a href="/index.php/Mobile/User/user_center.html">
        <img class="return_icon" src="{$Think.MOBILE}/images/icon-common-return.png" alt="">
    </a>
</div>

</body>
<script src='{$Think.MOBILE}/js/jquery-3.0.0.min.js'></script>
<script src='{$Think.MOBILE}/js/angular.min.js'></script>
<script>
    var app = angular.module('user_collect', []);
    app.filter('formatDate',function(){
        return function(date){
            return date = date.substr(0,10);
        };
    });
   
    app.controller("advancedCtrl", function ($scope, $http) {
        // 技术
        $http({
            method: "GET",
            url: "/index.php/Mobile/Article/collect_list?channel=js",
        }).then(function successCallback(response) {
            $scope.tecLists = response.data.data;
            // 无收藏
            if(response.data.result == 0){
                $scope.tecStatus = 0;
            };
        }, function errorCallback(response) {
            // console.log(response)
        });

        //需求
        $http({
            method: "GET",
            url: "/index.php/Mobile/Article/collect_list?channel=xq",
        }).then(function successCallback(response) {
            $scope.demandLists = response.data.data;
            if(response.data.result == 0){
                $scope.DemStatus = 0;
            }
        }, function errorCallback(response) {
            // console.log(response)
        });

        //活动
        $http({
            method: "GET",
            url: "/index.php/Mobile/Activity/collect_list",
        }).then(function successCallback(response) {
            $scope.activityLists = response.data.data;
            if(response.data.result == 0){
                $scope.ActStatus = 0;
            }
        }, function errorCallback(response) {
            // console.log(response)
        });

        //单位->协会
        $http({
            method: "GET",
            url: "/index.php/Mobile/Article/collect_list?channel=hz&type=jtgs",
        }).then(function successCallback(response) {
            $scope.assoLists = response.data.data;
            if(response.data.result == 0){
                $scope.AssoStatus = 0;
            }
        }, function errorCallback(response) {
            // console.log(response)
        });

        //单位->企业
        $http({
            method: "GET",
            url: "/index.php/Mobile/Article/collect_list?channel=hz&type=hzjg",
        }).then(function successCallback(response) {
            $scope.companyLists = response.data.data;
            if(response.data.result == 0){
                $scope.ComStatus = 0;
            }
        }, function errorCallback(response) {
            // console.log(response)
        });

    });

    $(".tec_tab p").on("click", function () {
        var index = $(this).index();
        var tranX = index * 188;
        $(".slideBlock").css("transform", "translateX(" + tranX + "px)");
        $(".tab_body").eq(index).show().siblings(".tab_body").hide();
        $(this).addClass('active').siblings().removeClass('active');
    });

    $(".coop_nav p").on("click", function () {
        var index = $(this).index();
        $(".index_coop_swiper").eq(index).show().siblings(".index_coop_swiper").hide();
        $(this).addClass('active').siblings().removeClass('active');
    });
</script>
</html>