<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <meta name="author" content="ThemeBucket">
    <link rel="shortcut icon" href="#" type="image/png">

    <title>模块类别管理</title>
    <meta name="keywords" content="{$gemmap_config['shop_info_store_keyword']}"/>
    <meta name="description" content="{$gemmap_config['shop_info_store_desc']}"/>

    <!--dynamic table-->

    <link href="{$Think.const.CSS}/style.css" rel="stylesheet">
    <link href="{$Think.const.CSS}/style-responsive.css" rel="stylesheet">
    <link href="{$Think.const.CSS}/channel-type.css" rel="stylesheet">
    <!--GEMMAP自带的矢量图标库 font-awesome.min.css-->
    <link href="__PUBLIC__/bootstrap/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="__PUBLIC__/js/html5shiv.js"></script>
    <script src="__PUBLIC__/js/respond.min.js"></script>
    <![endif]-->
    <link href="__PUBLIC__/css/demo/demo.css" rel="stylesheet" media="all" />
    <link href="__PUBLIC__/css/demo/pace-theme-barber-shop.css" rel="stylesheet" />

    <script src="__PUBLIC__/js/demo/ca-pub-2935286260943234.js"></script>
    <script src="__PUBLIC__/js/demo/hm.js"></script>
    <script src="__PUBLIC__/js/demo/pace.min.js" charset="gbk"></script>
    <script src="__PUBLIC__/js/demo/jquery.min.js"></script>
    <script src="__PUBLIC__/js/demo/jquery.qrcode.min.js"></script>

    <!-- jQuery 2.1.4 -->
    <script src="__PUBLIC__/plugins/jQuery/jQuery-2.1.4.min.js"></script>
    <script src="__PUBLIC__/js/global.js"></script>
    <script src="__PUBLIC__/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="__PUBLIC__/js/layer/layer-min.js"></script><!-- 弹窗js 参考文档 http://layer.layui.com/-->

</head>
<style type="text/css">
/* CSS Document */
html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video, select{margin: 0;padding: 0;border: 0;}
/* 取消链接高亮  */
a{font-family:"微软雅黑";}
a{text-decoration:none; color:#969696; font-family:Microsoft YaHei,Tahoma,Arial,sans-serif;}
a:hover{color:#fff; text-decoration:none;}
*{font-family:"微软雅黑";}
img,a{border:0; text-decoration:none;}
ol, ul {list-style: none; }
   
    .main-content { margin-left: 172px; background: #eff0f4; min-height: 1000px; }
    .panel{ margin-bottom: 0px; }
    .panel-body { padding:10px; }
    .panel-heading{ border-bottom: 1px solid #e7e7e7; font-size:18px; }

    .tb-conve{border-bottom: 1px solid #e7e7e7; overflow: hidden; padding:10px;}
    .first{width: 280px;height: 500px; margin-left:20px;float: left;overflow: hidden;}
    .first img{width: 255px; height: 435px;}
    .line{display:block; width: 80px;height: 40px;line-height: 40px;text-align: center;font-size: 14px; background: #24dabb;color:#fff;border-radius: 5px;margin-top:15px;}

    .mouseover{height: 100px;width: 100px;background: #e8e6e6; margin: 5px; text-align: center;position: relative;}
    .mouseover img{margin-top:10px;}
    .mouseover .effect{width: 100%;height: 100%; line-height: 50px;background:rgba(0,0,0,0.9);position: absolute;left:0;top:0;display:none;color:#fff;}
    .mouseover:hover .effect{display:block;}

    .size {height: 100px;width: 100px;background: #e8e6e6; margin: 5px; text-align: center;float: left;position: relative;}
    .size img{margin-top:10px;}
    .size a{display:block;width: 100%;height: 100%;}
    .size .effect{width: 100%;height: 100%; line-height: 50px;background:rgba(0,0,0,0.9);position: absolute;left:0;top:0;display:none;color:#fff;}
    .size:hover .effect{display:block;}

</style>
<body class="sticky-header pace-done" id="by">
    <div class="pace  pace-inactive">
        <div class="pace-progress" data-progress-text="100%" data-progress="99" style="width: 100%;">
            <div class="pace-progress-inner"></div>
        </div>
        <div class="pace-activity"></div>
    </div>
    <!--<div id="switcher">-->
        <!--<div class="center">-->
            <!--<ul>-->
                <!--<div id="Device">-->
                    <!--<li class="device-monitor"><a href="javascript:">-->
                        <!--<div class="icon-monitor">-->
                        <!--</div>-->
                    <!--</a></li>-->
                    <!--<li class="device-mobile"><a href="javascript:">-->
                        <!--<div class="icon-tablet">-->
                        <!--</div>-->
                    <!--</a></li>-->
                    <!--<li class="device-mobile"><a href="javascript:">-->
                        <!--<div class="icon-mobile-1">-->
                        <!--</div>-->
                    <!--</a></li>-->
                    <!--<li class="device-mobile-2"><a href="javascript:">-->
                        <!--<div class="icon-mobile-2 active">-->
                        <!--</div>-->
                    <!--</a></li>-->
                    <!--<li class="device-mobile-3"><a href="javascript:">-->
                        <!--<div class="icon-mobile-3">-->
                        <!--</div>-->
                    <!--</a></li>-->
                <!--</div>-->
                    <!--<li class="logoTop" id="sj2">选择预览效果</li>-->
                <!--</ul>-->
            <!--</div>-->
    <!--</div>-->
    <!--<div id="iframe-wrap" class="mobile-width-2">-->
        <!--&lt;!&ndash;<iframe id="iframe" src="innerpage.html" frameborder="0" width="100%" height="100px"></iframe>&ndash;&gt;-->
    <!--</div>-->
<section>
    <!-- main content start-->
    <!-- <div class="main-content" width="100%" style="margin:0px;">
            <!--body wrapper start-->
            <div class="wrapper">
             
                <!-- <include file="Public/breadcrumb"/> -->
                    <div class="panel">
                        <header class="panel-body panel-heading ">
                            <div class="pull-left ">
                                启动页设置
                            </div>
                            <div class="pull-right">
                                <div class="btn-group">
                                    <!--<button href="javascript:;" class="btn btn-default" onclick=""><i-->
                                            <!--class="fa fa-plus"></i>确定</button>-->
                                    <button type="submit" class="btn btn-default "
                                            onclick="ajax_submit_form()"><i class="fa fa-floppy-o"></i>确定
                                    </button>
                                <a href="javascript:;" class="btn btn-default"><i
                                        class="fa fa-plus"></i>取消</a>
                            </div>
                        </div>
                    </header>
                </div>
                <!-- 选择模块 -->
                <form id="form_id" method="post" action="__MODULE__/AppConfig/start_page/action/add">

                    <div class="tb-conve panel">

                        <div class="first">
                            <input type="hidden" id="id" name="id" value="{$data.id}">
                            <img id="{$data.title}" src="{$data.path}"  alt="" />
                            <a class="line" type="button" onclick="preview('image_1')">效果预览</a>

                        </div>

                        <div class="panel-body col-sm-8">
                            <div class="nav-button ">
                                <span class="col-md-2 ">图片上传:</span><br />
                                <p class="col-md-6">必传尺寸为1080*1920，系统将智能适配640*1136、640*960、1536*2048、800*1280、720*1280、400*800等分辨率的机型，以帮助您快速创建应用。</p>
                            </div>
                        </div>
                        <div class="panel-body col-sm-8">
                            <div class="nav-button ">
                                <span class="col-md-2 ">上传必传尺寸:</span><br />
                                <div class=" col-md-8 mouseover">
                                    <a href="javascript:;">
                                        <div  class="effect" onclick="GetUploadifyImage(1,'image_1','images','');">1080*1920<br />上传精确尺寸</div>
                                        <img  src="__PUBLIC__/images/channel_list/icomshouji.png" height="64" width="64"  />
                                        1080*1920
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="panel-body col-sm-8">
                            <div class="nav-button ">
                                <span class="col-md-2 ">上传精确尺寸:</span><br />
                                <div class=" slang">
                                    <ul>
                                        <foreach name="title" item="vo">
                                        <li class="size">
                                            <a href="javascript:;">
                                                <div  class="effect" onclick="GetUploadifyImage(1,'{$vo.title}','images','');">1536*2048<br />上传精确尺寸</div>
                                                <img id="{$vo.title}" src="{$vo.path}" height="64" width="64"  />
                                                1536*2048
                                            </a>
                                        </li>
                                        </foreach>
                                        <!--<li class="size">-->
                                            <!--<a href="javascript:;">-->
                                                <!--<div  class="effect" onclick="GetUploadifyImage(1,'image_3','images','');">750*1134<br />上传精确尺寸</div>-->
                                                <!--<img id="image_3" src="__PUBLIC__/images/channel_list/icomshouji.png" height="64" width="64" />-->
                                                <!--750*1134-->
                                            <!--</a>-->
                                        <!--</li>-->
                                        <!--<li class="size">-->
                                            <!--<a href="javascript:;">-->
                                                <!--<div class="effect" onclick="GetUploadifyImage(1,'image_4','images','');">640*1136<br />上传精确尺寸</div>-->
                                                <!--<img  id="image_4" src="__PUBLIC__/images/channel_list/icomshouji.png" height="64" width="64"  />-->
                                                <!--640*1136-->
                                            <!--</a>-->
                                        <!--</li>-->
                                        <!--<li class="size">-->
                                            <!--<a href="javascript:;">-->
                                                <!--<div  class="effect" onclick="GetUploadifyImage(1,'image_5','images','');">640*960<br />上传精确尺寸</div>-->
                                                <!--<img id="image_5" src="__PUBLIC__/images/channel_list/icomshouji.png" height="64" width="64"  />-->
                                                <!--640*960-->
                                            <!--</a>-->
                                        <!--</li>-->
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>

                </form>
            </div>
            <!--body wrapper end-->



    </div>
    <!-- main content end-->
</section>

<!-- Placed js at the end of the document so the pages load faster -->
<script src="{$Think.const.JS}/jquery-ui-1.9.2.custom.min.js"></script>
<script src="{$Think.const.JS}/jquery-migrate-1.2.1.min.js"></script>
<script src="{$Think.const.JS}/bootstrap.min.js"></script>
<script src="{$Think.const.JS}/modernizr.min.js"></script>
<script src="{$Think.const.JS}/jquery.nicescroll.js"></script>



<!--common scripts for all pages-->
<script src="{$Think.const.JS}/scripts.js"></script>
    <script type="text/javascript">

        function ajax_submit_form() {
            var datas = {};
            for(var i=1; i<=5; i++){

                var $img = $("#image_"+i);
                var title = $img.attr('id');

                var path = $img.attr('src');

                var sort = i;

                var item = {'title': title, 'path':path, 'sort': sort};

                index = i-1;
                datas[index] = item;
            }


            var json = encodeURI(JSON.stringify(datas));
            var data = {'json': json};
            var action  =  "__MODULE__/AppConfig/start_page/action/add";
            //异步提交表单数据
            $.ajax({
                type: "post",
                url: action,
                data: data,
                dataType: 'json',
                success: function (res) {
                    layer.msg(res.msg);
                }
            });
        }

        //效果预览
        function preview(id) {
            var src = "";
            if ( $( '#' + id ).val() ) {
                src = $( '#' + id ).val();
            } else {
                src = $( '#' + id ).attr( "src" );
            }

            var content;
            if (src == "") {
                content = '没有图片可供预览';
                layer.msg(content);
            }
            else {
                content = "<img width='300' height='300' src='" + src + "'>";
                layer.open({
                    type: 1,
                    title: false,
                    closeBtn: false,
                    area: ['300px', '300px'],
                    skin: 'layui-layer-nobg', //没有背景色
                    shadeClose: true,
                    content: content
                });
            }
        }

        var theme_list_open = false;

        $(document).ready(function () {
            function fixHeight() {
                var headerHeight = $("#switcher").height();
                $("#iframe").attr("height", $(window).height() - 54 + "px");
            }
            $(window).resize(function () {
                fixHeight();
            }).resize();

            $(".icon-mobile-3").click(function () {
                $("#by").css("overflow-y", "auto");
                $('#iframe-wrap').removeClass().addClass('mobile-width-3');
                $('.icon-tablet,.icon-mobile-1,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
                $(this).addClass('active');
                return false;
            });

            $(".icon-mobile-2").click(function () {
                $("#by").css("overflow-y", "auto");
                $('#iframe-wrap').removeClass().addClass('mobile-width-2');
                $('.icon-tablet,.icon-mobile-1,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
                $(this).addClass('active');
                return false;
            });

            $(".icon-mobile-1").click(function () {
                $("#by").css("overflow-y", "auto");
                $('#iframe-wrap').removeClass().addClass('mobile-width');
                $('.icon-tablet,.icon-mobile,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
                $(this).addClass('active');
                return false;
            });

            $(".icon-tablet").click(function () {
                $("#by").css("overflow-y", "auto");
                $('#iframe-wrap').removeClass().addClass('tablet-width');
                $('.icon-tablet,.icon-mobile-1,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
                $(this).addClass('active');
                return false;
            });

            $(".icon-monitor").click(function () {
                $("#by").css("overflow-y", "hidden");
                $('#iframe-wrap').removeClass().addClass('full-width');
                $('.icon-tablet,.icon-mobile-1,.icon-monitor,.icon-mobile-2,.icon-mobile-3').removeClass('active');
                $(this).addClass('active');
                return false;
            });
        });
    </script>
</body>
</html>

